#!/bin/zsh
createhack () {
	echo "Creating VSCode Hack Environment"
	echo "Usage: $0 <foldername>"
	if [ -z "$1" ]
	then
		echo "No folder name given"
		return 1
	fi
	mkdir -p $1/.vscode

    # .vscode/source_web-delivery.zsh
	echo 'ZXhwb3J0IFBST0pFQ1RfV0VCX0RFTElWRVJZPSRQUk9KRUNUX0ZPTERFUi8ud2ViLWRlbGl2ZXJ5Cgpta2RpciAtcCAkUFJPSkVDVF9XRUJfREVMSVZFUlkKCmNkICRQUk9KRUNUX1dFQl9ERUxJVkVSWQoKcHl0aG9uMyAtbSBodHRwLnNlcnZlciAKCiMgb3BlbiBodHRwOi8vbG9jYWxob3N0OjgwMDA=' | base64 -d > $1/.vscode/source_web-delivery.zsh

    # .vscode/settings.json
	echo 'ewogICAgInRlcm1pbmFsLmludGVncmF0ZWQucHJvZmlsZXMubGludXgiOiB7CiAgICAgICAgInpzaC1zaGVsbCI6IHsKICAgICAgICAgICAgInBhdGgiOiAienNoIiwKICAgICAgICAgICAgImFyZ3MiOiBbCiAgICAgICAgICAgICAgICAiLWMiLAogICAgICAgICAgICAgICAgImV4cG9ydCBQUk9KRUNUX0ZPTERFUj0ke3dvcmtzcGFjZUZvbGRlcn0gO3NvdXJjZSAke3dvcmtzcGFjZUZvbGRlcn0vLnZzY29kZS9zb3VyY2UuenNoIgogICAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICAibWV0YXNwbG9pdCI6IHsKICAgICAgICAgICAgIm92ZXJyaWRlTmFtZSI6IHRydWUsCiAgICAgICAgICAgICJwYXRoIjogInpzaCIsCiAgICAgICAgICAgICJhcmdzIjogWwogICAgICAgICAgICAgICAgIi1jIiwKICAgICAgICAgICAgICAgICJleHBvcnQgUFJPSkVDVF9GT0xERVI9JHt3b3Jrc3BhY2VGb2xkZXJ9IDtzb3VyY2UgJHt3b3Jrc3BhY2VGb2xkZXJ9Ly52c2NvZGUvc291cmNlX21ldGFzcGxvaXQuenNoIgogICAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICAid2ViLWRlbGl2ZXJ5IjogewogICAgICAgICAgICAib3ZlcnJpZGVOYW1lIjogdHJ1ZSwKICAgICAgICAgICAgInBhdGgiOiAienNoIiwKICAgICAgICAgICAgImFyZ3MiOiBbCiAgICAgICAgICAgICAgICAiLWMiLAogICAgICAgICAgICAgICAgImV4cG9ydCBQUk9KRUNUX0ZPTERFUj0ke3dvcmtzcGFjZUZvbGRlcn0gO3NvdXJjZSAke3dvcmtzcGFjZUZvbGRlcn0vLnZzY29kZS9zb3VyY2Vfd2ViLWRlbGl2ZXJ5LnpzaCIKICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH0sCiAgICAidGVybWluYWwuaW50ZWdyYXRlZC5wcm9maWxlcy5vc3giOiB7CiAgICAgICAgInpzaC1zaGVsbCI6IHsKICAgICAgICAgICAgInBhdGgiOiAienNoIiwKICAgICAgICAgICAgImFyZ3MiOiBbCiAgICAgICAgICAgICAgICAiLWMiLAogICAgICAgICAgICAgICAgImV4cG9ydCBQUk9KRUNUX0ZPTERFUj0ke3dvcmtzcGFjZUZvbGRlcn0gO3NvdXJjZSAke3dvcmtzcGFjZUZvbGRlcn0vLnZzY29kZS9zb3VyY2UuenNoIgogICAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICAibWV0YXNwbG9pdCI6IHsKICAgICAgICAgICAgIm92ZXJyaWRlTmFtZSI6IHRydWUsCiAgICAgICAgICAgICJwYXRoIjogInpzaCIsCiAgICAgICAgICAgICJhcmdzIjogWwogICAgICAgICAgICAgICAgIi1jIiwKICAgICAgICAgICAgICAgICJleHBvcnQgUFJPSkVDVF9GT0xERVI9JHt3b3Jrc3BhY2VGb2xkZXJ9IDtzb3VyY2UgJHt3b3Jrc3BhY2VGb2xkZXJ9Ly52c2NvZGUvc291cmNlX21ldGFzcGxvaXQuenNoIgogICAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICAid2ViLWRlbGl2ZXJ5IjogewogICAgICAgICAgICAib3ZlcnJpZGVOYW1lIjogdHJ1ZSwKICAgICAgICAgICAgInBhdGgiOiAienNoIiwKICAgICAgICAgICAgImFyZ3MiOiBbCiAgICAgICAgICAgICAgICAiLWMiLAogICAgICAgICAgICAgICAgImV4cG9ydCBQUk9KRUNUX0ZPTERFUj0ke3dvcmtzcGFjZUZvbGRlcn0gO3NvdXJjZSAke3dvcmtzcGFjZUZvbGRlcn0vLnZzY29kZS9zb3VyY2Vfd2ViLWRlbGl2ZXJ5LnpzaCIKICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH0sCiAgICAidGVybWluYWwuaW50ZWdyYXRlZC5kZWZhdWx0UHJvZmlsZS5vc3giOiAienNoLXNoZWxsIiwKICAgICJ0ZXJtaW5hbC5pbnRlZ3JhdGVkLmRlZmF1bHRQcm9maWxlLmxpbnV4IjogInpzaC1zaGVsbCIsCn0K' | base64 -d > $1/.vscode/settings.json

    # .vscode/workspace_metasploit.rc
	echo 'dXNlIG11bHRpL2hhbmRsZXIKc2V0IEV4aXRPblNlc3Npb24gZmFsc2UKc2V0IExIT1NUIDAuMC4wLjAgCnNldCBMUE9SVCA0NDQzCg==' | base64 -d > $1/.vscode/workspace_metasploit.rc

    # .vscode/source.zsh
	echo 'c291cmNlICRQUk9KRUNUX0ZPTERFUi8udnNjb2RlL2Vudi56c2gKZXhlYyB6c2ggLWkgICMgbXVzdCBiZSB0aGVyZS4gb3RoZXJ3aXNlLCB0aGUgdGVybWluYWwgd2lsbCBjbG9zZSBpbW1lZGlhdGVseS4K' | base64 -d > $1/.vscode/source.zsh

    # .vscode/source_metasploit.zsh
	echo 'c291cmNlICRQUk9KRUNUX0ZPTERFUi8udnNjb2RlL2Vudi56c2gKbXNmY29uc29sZSAtciAiJFBST0pFQ1RfRk9MREVSLy52c2NvZGUvd29ya3NwYWNlX21ldGFzcGxvaXQucmMi' | base64 -d > $1/.vscode/source_metasploit.zsh

    # .vscode/env.zsh
	echo 'ZXhwb3J0IFJIT1NUPTEwLjEwLlguWApleHBvcnQgTEhPU1Q9MTAuWC5YLlgKZXhwb3J0IFRBUkdFVD14eHguZG9tYWluLmNvbQoKc2V0dXBfdmVudigpIHsKICAgIHB5dGhvbjMgLW0gdmVudiAkUFJPSkVDVF9GT0xERVIvdmVudgp9Cgp1bnNldCBTU1NfTE9BREVE' | base64 -d > $1/.vscode/env.zsh

	echo "Generate Success" "Launched VSCode"
	code $1
}
